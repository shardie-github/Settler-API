{"version":3,"file":"migrate.js","sourceRoot":"","sources":["../../src/db/migrate.ts"],"names":[],"mappings":"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"}